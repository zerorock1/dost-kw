(function(e){function t(t){for(var i,n,r=t[0],c=t[1],l=t[2],v=0,d=[];v<r.length;v++)n=r[v],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&d.push(o[n][0]),o[n]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);u&&u(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],i=!0,r=1;r<a.length;r++){var c=a[r];0!==o[c]&&(i=!1)}i&&(s.splice(t--,1),e=n(n.s=a[0]))}return e}var i={},o={app:0},s=[];function n(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=i,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"012b":function(e,t,a){},"3e23":function(e,t,a){"use strict";a("012b")},"56d7":function(e,t,a){"use strict";a.r(t);a("e623"),a("e379"),a("5dc8"),a("37e1");var i=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("router-view")],1)},s=[],n={name:"Main",components:{}},r=n,c=a("2877"),l=Object(c["a"])(r,o,s,!1,null,null,null),u=l.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.buscador?a("div",[a("Buscador"),a("Resultado")],1):e._e()])},d=[],p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"form-buscador"},[a("form",{attrs:{action:""}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("select",{staticClass:"form-select",attrs:{"aria-label":"Default select example"},on:{change:function(t){return e.changeprovincia(t)}}},[a("option",[e._v("Provincia")]),a("option",{attrs:{value:"47",selected:""}},[e._v("VIZCAYA")])])]),a("div",{staticClass:"col-md-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.select_ciudad,expression:"select_ciudad"}],staticClass:"form-select",attrs:{disabled:e.camposactivos,"aria-label":"Default select example"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.select_ciudad=t.target.multiple?a:a[0]},function(t){return e.changeciudad(t)}]}},[a("option",{attrs:{value:"NOP"}},[e._v("Ciudad")]),e._l(e.ciudades,(function(t){return a("option",{key:t.cod_ciu,domProps:{value:t.cod_ciu}},[e._v(" "+e._s(t.city)+" ")])}))],2)]),a("div",{staticClass:"col-md-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.select_tipo,expression:"select_tipo"}],staticClass:"form-select",attrs:{disabled:e.camposactivos,"aria-label":"Default select example"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.select_tipo=t.target.multiple?a:a[0]},function(t){return e.changetipovivienda(t)}]}},[a("option",{attrs:{value:"NOP"}},[e._v("Tipo de Vivienda")]),a("option",{attrs:{value:"3399"}},[e._v("Piso")]),a("option",{attrs:{value:"199"}},[e._v("Adosada")]),a("option",{attrs:{value:"399"}},[e._v("Casa")]),a("option",{attrs:{value:"7599"}},[e._v("Casa con terreno")]),a("option",{attrs:{value:"2399"}},[e._v("Garaje")]),a("option",{attrs:{value:"1299"}},[e._v("Local comercial")]),a("option",{attrs:{value:"5099"}},[e._v("Parcela")])])]),a("div",{staticClass:"col-md-3"}),a("div",{staticClass:"col-md-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.select_predesde,expression:"select_predesde"}],staticClass:"form-select",attrs:{disabled:e.camposactivos,"aria-label":"Default select example"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.select_predesde=t.target.multiple?a:a[0]},function(t){return e.changepreciodesde(t)}]}},[a("option",{attrs:{value:"NOP"}},[e._v("Precio desde")]),a("option",{attrs:{value:"1"}},[e._v("1€")]),a("option",{attrs:{value:"10000"}},[e._v("10.000€")]),a("option",{attrs:{value:"20000"}},[e._v("20.000€")]),a("option",{attrs:{value:"30000"}},[e._v("30.000€")]),a("option",{attrs:{value:"40000"}},[e._v("40.000€")]),a("option",{attrs:{value:"50000"}},[e._v("50.000€")]),a("option",{attrs:{value:"100000"}},[e._v("100.000€")]),a("option",{attrs:{value:"200000"}},[e._v("200.000€")]),a("option",{attrs:{value:"300000"}},[e._v("300.000€")]),a("option",{attrs:{value:"400000"}},[e._v("400.000€")]),a("option",{attrs:{value:"500000"}},[e._v("500.000€")]),a("option",{attrs:{value:"600000"}},[e._v("600.000€")]),a("option",{attrs:{value:"700000"}},[e._v("700.000€")]),a("option",{attrs:{value:"800000"}},[e._v("800.000€")]),a("option",{attrs:{value:"900000"}},[e._v("900.000€")])])]),a("div",{staticClass:"col-md-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.select_prehasta,expression:"select_prehasta"}],staticClass:"form-select",attrs:{disabled:e.camposactivos,"aria-label":"Default select example"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.select_prehasta=t.target.multiple?a:a[0]},function(t){return e.changepreciohasta(t)}]}},[a("option",{attrs:{value:"NOP"}},[e._v("Precio hasta")]),a("option",{attrs:{value:"10000"}},[e._v("10.000€")]),a("option",{attrs:{value:"20000"}},[e._v("20.000€")]),a("option",{attrs:{value:"30000"}},[e._v("30.000€")]),a("option",{attrs:{value:"40000"}},[e._v("40.000€")]),a("option",{attrs:{value:"50000"}},[e._v("50.000€")]),a("option",{attrs:{value:"100000"}},[e._v("100.000€")]),a("option",{attrs:{value:"200000"}},[e._v("200.000€")]),a("option",{attrs:{value:"300000"}},[e._v("300.000€")]),a("option",{attrs:{value:"400000"}},[e._v("400.000€")]),a("option",{attrs:{value:"500000"}},[e._v("500.000€")]),a("option",{attrs:{value:"600000"}},[e._v("600.000€")]),a("option",{attrs:{value:"700000"}},[e._v("700.000€")]),a("option",{attrs:{value:"800000"}},[e._v("800.000€")]),a("option",{attrs:{value:"900000"}},[e._v("900.000€")])])]),a("div",{staticClass:"col-md-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.select_habi,expression:"select_habi"}],staticClass:"form-select",attrs:{disabled:e.camposactivos,"aria-label":"Default select example"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.select_habi=t.target.multiple?a:a[0]},e.changepreciohabitaciones]}},[a("option",{attrs:{value:"NOP"}},[e._v("Habitaciones")]),a("option",{attrs:{value:"1"}},[e._v("1 Habitación")]),a("option",{attrs:{value:"2"}},[e._v("2 Habitaciónes")]),a("option",{attrs:{value:"3"}},[e._v("3 Habitaciónes")]),a("option",{attrs:{value:"4"}},[e._v("4 Habitaciónes")]),a("option",{attrs:{value:"5"}},[e._v("5 Habitaciónes")])])]),a("div",{staticClass:"col-md-3"}),a("div",{staticClass:"col-md-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.select_superdesde,expression:"select_superdesde"}],staticClass:"form-select",attrs:{disabled:e.camposactivos,"aria-label":"Default select example"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.select_superdesde=t.target.multiple?a:a[0]},e.changesuperdesde]}},[a("option",{attrs:{value:"NOP"}},[e._v("Superficie Mínima")]),a("option",{attrs:{value:"10"}},[e._v("10 m2")]),a("option",{attrs:{value:"20"}},[e._v("20 m2")]),a("option",{attrs:{value:"30"}},[e._v("30 m2")]),a("option",{attrs:{value:"40"}},[e._v("40 m2")]),a("option",{attrs:{value:"50"}},[e._v("50 m2")]),a("option",{attrs:{value:"60"}},[e._v("60 m2")]),a("option",{attrs:{value:"70"}},[e._v("70 m2")]),a("option",{attrs:{value:"80"}},[e._v("80 m2")]),a("option",{attrs:{value:"90"}},[e._v("90 m2")]),a("option",{attrs:{value:"100"}},[e._v("100 m2")]),a("option",{attrs:{value:"110"}},[e._v("110 m2")]),a("option",{attrs:{value:"120"}},[e._v("120 m2")]),a("option",{attrs:{value:"130"}},[e._v("130 m2")]),a("option",{attrs:{value:"140"}},[e._v("140 m2")]),a("option",{attrs:{value:"150"}},[e._v("150 m2")]),a("option",{attrs:{value:"160"}},[e._v("160 m2")]),a("option",{attrs:{value:"180"}},[e._v("180 m2")]),a("option",{attrs:{value:"190"}},[e._v("190 m2")]),a("option",{attrs:{value:"200"}},[e._v("200 m2")])])]),a("div",{staticClass:"col-md-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.select_superhasta,expression:"select_superhasta"}],staticClass:"form-select",attrs:{disabled:e.camposactivos,"aria-label":"Default select example"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.select_superhasta=t.target.multiple?a:a[0]},e.changesuperhasta]}},[a("option",{attrs:{value:"NOP"}},[e._v("Superficie Máxima")]),a("option",{attrs:{value:"10"}},[e._v("10 m2")]),a("option",{attrs:{value:"20"}},[e._v("20 m2")]),a("option",{attrs:{value:"30"}},[e._v("30 m2")]),a("option",{attrs:{value:"40"}},[e._v("40 m2")]),a("option",{attrs:{value:"50"}},[e._v("50 m2")]),a("option",{attrs:{value:"60"}},[e._v("60 m2")]),a("option",{attrs:{value:"70"}},[e._v("70 m2")]),a("option",{attrs:{value:"80"}},[e._v("80 m2")]),a("option",{attrs:{value:"90"}},[e._v("90 m2")]),a("option",{attrs:{value:"100"}},[e._v("100 m2")]),a("option",{attrs:{value:"110"}},[e._v("110 m2")]),a("option",{attrs:{value:"120"}},[e._v("120 m2")]),a("option",{attrs:{value:"130"}},[e._v("130 m2")]),a("option",{attrs:{value:"140"}},[e._v("140 m2")]),a("option",{attrs:{value:"150"}},[e._v("150 m2")]),a("option",{attrs:{value:"160"}},[e._v("160 m2")]),a("option",{attrs:{value:"180"}},[e._v("180 m2")]),a("option",{attrs:{value:"190"}},[e._v("190 m2")]),a("option",{attrs:{value:"200"}},[e._v("200 m2")])])]),e.camposactivos?e._e():a("div",{staticClass:"col-md-3"},[a("br"),a("label",{attrs:{for:""}}),a("button",{staticClass:"btn btn-success",on:{click:function(t){return t.preventDefault(),e.quitarfiltros()}}},[a("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}}),e._v(" Quitar Filtros ")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("p",{staticClass:"total"},[e._v(e._s(e.total))])])])])])])},m=[],f={name:"Buscador",data:function(){return{select_ciudad:"NOP",select_tipo:"NOP",select_predesde:"NOP",select_prehasta:"NOP",select_habi:"NOP",select_superdesde:"NOP",select_superhasta:"NOP"}},computed:{provincias:function(){return this.$store.state.provincias},ciudades:function(){return this.$store.state.ciudades},total:function(){var e=this.$store.state.viviendas,t="No hay resultados";return null!=e&&(t=e.length<=0?"No hay resultados":"Mostrando "+e.length),t},camposactivos:function(){return this.$store.state.camposactivos}},mounted:function(){this.cargadefaultciudades()},methods:{cargadefaultciudades:function(){this.$store.dispatch("dameOfertasProvincia",47),this.$store.dispatch("dameCiudades",47)},changeprovincia:function(e){this.$store.dispatch("dameOfertasProvincia",e.target.value),this.$store.dispatch("dameCiudades",e.target.value)},changeciudad:function(e){this.$store.dispatch("filtros",{filtro:"ciudad",payload:e.target.value})},changetipovivienda:function(e){this.$store.dispatch("filtros",{filtro:"tipovivienda",payload:e.target.value})},changepreciodesde:function(e){this.$store.dispatch("filtros",{filtro:"preciodesde",payload:e.target.value})},changepreciohasta:function(e){this.$store.dispatch("filtros",{filtro:"preciohasta",payload:e.target.value})},changepreciohabitaciones:function(e){this.$store.dispatch("filtros",{filtro:"habitaciones",payload:e.target.value})},changesuperdesde:function(e){this.$store.dispatch("filtros",{filtro:"superminima",payload:e.target.value})},changesuperhasta:function(e){this.$store.dispatch("filtros",{filtro:"supermaxima",payload:e.target.value})},quitarfiltros:function(){this.select_ciudad="NOP",this.select_tipo="NOP",this.select_predesde="NOP",this.select_prehasta="NOP",this.select_habi="NOP",this.select_superdesde="NOP",this.select_superhasta="NOP",this.$store.dispatch("eliminarFiltros")}}},h=f,_=Object(c["a"])(h,p,m,!1,null,null,null),g=_.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"listado-viviendas"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},e._l(e.viviendas,(function(t,i){return a("div",{key:i,staticClass:"col-md-6 modulo"},[a("div",{staticClass:"img"},[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),e.seleccionaVivienda(t)}}},[a("img",{attrs:{src:void 0!=t.foto?t.foto:"https://www.kellerwilliamsroyal.es/wp-content/themes/kwroyal/img/nofoto.jpg",alt:""}})])]),a("a",{attrs:{href:""}},[a("p",{staticClass:"venta"},[t.precioinmo>0?a("span",[a("money-format",{attrs:{value:t.precioinmo,locale:"es","currency-code":"EUR"}})],1):e._e(),t.precioinmo<=0?a("span",[e._v(" Precio a Consultar ")]):e._e()]),a("p",{staticClass:"poblacion"},[a("span",[e._v(e._s(t.ciudad))]),a("br"),e._v(" "+e._s(t.nbtipo))]),a("p",{staticClass:"datos"},[a("span",[e._v("Habitaciones:")]),e._v(" "+e._s(t.habitaciones)),a("br"),a("span",[e._v("Superficie:")]),e._v(" "+e._s(t.m_cons)+" m2"),a("br"),a("span",[e._v("Baños:")]),e._v(" "+e._s(t.banyos)),a("br"),a("span",[e._v("Ref:")]),e._v(" "+e._s(t.ref)+" ")]),a("p",{staticClass:"descrip"},[e._v(e._s(t.nbconservacion))])])])})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("p",{staticClass:"showmas"},[e.showmas?a("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.cargamas.apply(null,arguments)}}},[e._v("CARGAR MÁS")]):e._e()])])])])])},C=[],y=a("fe61"),O={name:"Resultado",components:{"money-format":y["a"]},computed:{viviendas:function(){var e=[];return e=this.$store.state.viviendas,e},showmas:function(){return this.$store.state.showmas}},methods:{seleccionaVivienda:function(e){this.$router.push("ficha/"+e.cod_ofer)},cargamas:function(){this.$store.dispatch("eliminarFiltros"),this.$store.dispatch("cargamaspromos")}}},w=O,A=(a("3e23"),Object(c["a"])(w,b,C,!1,null,"282502ad",null)),N=A.exports,x={name:"App",components:{Buscador:g,Resultado:N},computed:{buscador:function(){return this.$store.state.buscador},ficha:function(){return this.$store.state.ficha}},mounted:function(){this.$store.dispatch("fetchDestacadas","paginacion")}},P=x,E=Object(c["a"])(P,v,d,!1,null,null,null),D=E.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("section",{staticClass:"ficha-vivienda"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"textos"},[a("div",{staticClass:"ficha-top-izq"},[a("p",{staticClass:"poblacion"},[a("span",[e._v(e._s(e.viviendaseleccionada.ciudad))]),a("br"),e._v(" "+e._s(e.viviendaseleccionada.nbtipo)+" ")]),a("p",{staticClass:"datos"},[a("span",[e._v("Habitaciones:")]),e._v(" "+e._s(e.viviendaseleccionada.habitaciones)),a("br"),a("span",[e._v("Superficie:")]),e._v(" "+e._s(e.viviendaseleccionada.m_cons)+" m2"),a("br"),a("span",[e._v("Baños:")]),e._v(" "+e._s(e.viviendaseleccionada.banyos)),a("br"),a("span",[e._v("Ref:")]),e._v(" "+e._s(e.viviendaseleccionada.ref)+" ")])]),a("div",{staticClass:"ficha-top-der"},[a("p",{staticClass:"venta"},[e.viviendaseleccionada.precioinmo>0?a("span",[a("money-format",{attrs:{value:e.viviendaseleccionada.precioinmo,locale:"es","currency-code":"EUR"}})],1):e._e(),e.viviendaseleccionada.precioinmo<=0?a("span",[e._v(" Precio a Consultar ")]):e._e()])])]),a("div",{staticClass:"owl-carousel owl-theme"},[a("slider",{attrs:{animation:"fade",height:"420px"}},e._l(e.estasfotos,(function(e,t){return a("slider-item",{key:t},[a("img",{attrs:{src:e}})])})),1),a("div",{staticClass:"textos"},[a("p",{staticClass:"descrip"},[a("strong",[e._v("Descripción")]),a("br"),e._v(" "+e._s(e.ladescrip)+" ")])])],1)]),a("Formficha")],1)])]),a("br"),a("br")])},R=[],S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-md-4",staticStyle:{"padding-top":"30px"}},[a("form",{ref:"formtosend",staticClass:"modulo-contacta-rojo",attrs:{action:"/buscador-de-viviendas",method:"post"},on:{submit:function(t){return t.preventDefault(),e.enviaform.apply(null,arguments)}}},[a("div",{staticClass:"container"},[e._m(0),a("br"),e.visible?a("div",{staticStyle:{border:"1px solid white",padding:"10px"}},[a("strong",[e._v("Error!!!")]),a("br"),e._v(e._s(e.errormsg))]):e._e(),a("input",{directives:[{name:"model",rawName:"v-model",value:e.nombre,expression:"nombre"}],attrs:{type:"text",required:"",placeholder:"Nombre y apellido",name:"nombre",id:"nombre"},domProps:{value:e.nombre},on:{input:function(t){t.target.composing||(e.nombre=t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.telefono,expression:"telefono"}],attrs:{type:"text",required:"",placeholder:"Teléfono",name:"telefono",id:"telefono"},domProps:{value:e.telefono},on:{input:function(t){t.target.composing||(e.telefono=t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",required:"",placeholder:"Email",name:"email",id:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),a("input",{attrs:{type:"hidden",placeholder:"idpromocion",name:"idpromocion",id:"idpromocion"},domProps:{value:e.viviendaseleccionada.cod_ofer}}),a("div",{staticClass:"sele"},[a("div",{staticClass:"check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.check,expression:"check"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.check)?e._i(e.check,null)>-1:e.check},on:{change:function(t){var a=e.check,i=t.target,o=!!i.checked;if(Array.isArray(a)){var s=null,n=e._i(a,s);i.checked?n<0&&(e.check=a.concat([s])):n>-1&&(e.check=a.slice(0,n).concat(a.slice(n+1)))}else e.check=o}}})]),a("div",[e._v(" Al pulsar el botón “ENVIAR” usted confirma que ha leído, entiende y acepta las condiciones de la Política de Privacidad expuestas y enlazadas situadas en este ENLACE ")])]),a("input",{staticClass:"hvr-fadet",attrs:{type:"submit",value:"Enviar"}})])])])},k=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"contactanos"},[e._v(" Contáctanos"),a("br"),a("br"),a("span",[a("i",{staticClass:"fas fa-phone"}),e._v(" 944 145 160")])])}],$={name:"Formficha",data:function(){return{nombre:"",telefono:"",email:"",check:!1,errormsg:"",visible:!1}},computed:{viviendaseleccionada:function(){return this.$store.state.viviendaseleccionada}},methods:{enviaform:function(){return""==this.nombre?(this.errormsg="Tienes que rellenar el nombre",this.visible=!0,!1):""==this.telefono?(this.errormsg="Tienes que rellenar el teléfono",this.visible=!0,!1):""==this.email?(this.errormsg="Tienes que rellenar el email",this.visible=!0,!1):0==this.check?(this.errormsg="Tienes que aceptar las bases legales",this.visible=!0,!1):void this.$refs.formtosend.submit()}}},T=$,L=Object(c["a"])(T,S,k,!1,null,null,null),F=L.exports,j=a("cd9a"),V={name:"Ficha",data:function(){return{fotosurl:[]}},computed:{viviendaseleccionada:function(){return console.log(this.$store.state.viviendaseleccionada),this.$store.state.viviendaseleccionada},estasfotos:function(){return this.$store.state.fotosviviendaseleccionada},ladescrip:function(){return this.$store.state.descripcionviviendaseleccionada}},mounted:function(){this.$store.dispatch("seleccionavivienda",this.$route.params.idficha)},components:{Formficha:F,"money-format":y["a"],Slider:j["a"],SliderItem:j["b"]}},M=V,H=(a("f4d7"),Object(c["a"])(M,I,R,!1,null,"8ad96d9e",null)),q=H.exports,U=a("2909"),B=a("1da1"),z=(a("96cf"),a("4de4"),a("d3b7"),a("99af"),a("a9e3"),a("159b"),a("b0c0"),a("2f62")),G=a("bc3a"),J=a.n(G);i["a"].use(z["a"]);var Q=new z["a"].Store({state:{viviendas:[],viviendastotal:[],provincias:[],ciudades:[],buscador:!0,ficha:!1,viviendaseleccionada:{},fotosviviendaseleccionada:[],descripcionviviendaseleccionada:"",camposactivos:!0,totalpropiedades:0,currentpagina:50,provinciaseleccionada:0,showmas:!0,filtros:[{name:"ciudad",payload:null},{name:"tipovivienda",payload:null},{name:"preciodesde",payload:null},{name:"preciohasta",payload:null},{name:"habitaciones",payload:null},{name:"superminima",payload:null},{name:"supermaxima",payload:null}]},mutations:{FILTROS:function(e,t){return e.viviendas=t},LOAD_DESTACADAS:function(e,t){return e.viviendas=t},LOAD_PROVINCIAS:function(e,t){return e.provincias=t},LOAD_CIUDADES:function(e,t){e.ciudades=t,e.camposactivos=!1},LOAD_OFERTAS:function(e,t){e.viviendas=t.viviendas,e.viviendastotal=t.viviendas,e.totalpropiedades=t.datos.total,console.log(e.totalpropiedades),console.log(e.viviendastotal),1==window.vienedelahome&&(e.viviendas=e.viviendas.filter((function(e){return e.key_tipo==window.vienepayload.tipo})),window.vienedelahome=!1)},SELECCIONA_VIVIENDA:function(e,t){e.viviendaseleccionada=t},FOTOS_VIVIENDA_SELECCIONADA:function(e,t){e.fotosviviendaseleccionada=t},DESCRIPCION_VIVIENDA_SELECCIONADA:function(e,t){e.descripcionviviendaseleccionada=t,console.log(t)},CIERRA_FICHA:function(e){e.ficha=!1,e.buscador=!0},LOAD_MORE_OFERTAS:function(e,t){e.viviendastotal=e.viviendastotal.concat(t.viviendas),e.viviendas=e.viviendastotal,console.log(e.viviendastotal.length)}},actions:{fetchDestacadas:function(e,t){return Object(B["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=e.commit,J.a.get("https://kellerwilliamsroyal.es/api-cliente/cliente/").then((function(e){var a=e.data[t];i("LOAD_DESTACADAS",a)}));case 2:case"end":return a.stop()}}),a)})))()},dameProvincias:function(e){return Object(B["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.commit,J.a.get("https://www.kellerwilliamsroyal.es/api-cliente/cliente/index.php?parameter=provinciasofertas").then((function(e){var t=e.data;a("LOAD_PROVINCIAS",t)}));case 2:case"end":return t.stop()}}),t)})))()},dameCiudades:function(e,t){return Object(B["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=e.commit,J.a.get("https://www.kellerwilliamsroyal.es/api-cliente/cliente/index.php?parameter=ciudades&provincia="+t).then((function(e){var t=e.data;i("LOAD_CIUDADES",t)}));case 2:case"end":return a.stop()}}),a)})))()},seleccionavivienda:function(e,t){var a=e.commit;J.a.get("https://www.kellerwilliamsroyal.es/api-cliente/cliente/index.php?parameter=ficha&ficha="+t).then((function(e){a("SELECCIONA_VIVIENDA",e.data.ficha[1]),a("FOTOS_VIVIENDA_SELECCIONADA",e.data.fotos[e.data.ficha[1].cod_ofer]),a("DESCRIPCION_VIVIENDA_SELECCIONADA",e.data.descripciones[e.data.ficha[1].cod_ofer][1].descrip)}))},cierraVivienda:function(e){var t=e.commit;t("CIERRA_FICHA")},cargamaspromos:function(e){var t=this;return Object(B["a"])(regeneratorRuntime.mark((function a(){var i,o,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=e.commit,o=t.state.currentpagina,s=Number(o)+50,s>Number(t.state.totalpropiedades)&&(s=t.state.totalpropiedades,t.state.showmas=!1),J.a.get("https://www.kellerwilliamsroyal.es/api-cliente/cliente/index.php?parameter=destacadosprovincias&provincia="+t.state.provinciaseleccionada+"&inicio="+o+"&fin="+s).then((function(e){var t=e.data,a=t.paginacion.filter((function(e,t){return t>0})),o={viviendas:a,datos:t.paginacion[0]};i("LOAD_MORE_OFERTAS",o)}));case 5:case"end":return a.stop()}}),a)})))()},dameOfertasProvincia:function(e,t){var a=this;return Object(B["a"])(regeneratorRuntime.mark((function i(){var o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:o=e.commit,a.state.provinciaseleccionada=t,J.a.get("https://www.kellerwilliamsroyal.es/api-cliente/cliente/index.php?parameter=destacadosprovincias&provincia="+t+"&incio=1&fin=50").then((function(e){var t=e.data,a=t.paginacion.filter((function(e,t){return t>0})),i={viviendas:a,datos:t.paginacion[0]};o("LOAD_OFERTAS",i)}));case 3:case"end":return i.stop()}}),i)})))()},filtros:function(e,t){var a=e.commit,i=Object(U["a"])(this.state.viviendastotal);this.state.filtros.forEach((function(e){e.name==t.filtro&&(e.payload=t.payload)}));var o=this.state.filtros;o.forEach((function(e){null!=e.payload&&("ciudad"==e.name&&(console.log("FILTRO CIUDAD"),console.log(e),i=i.filter((function(t){return t.key_loca==e.payload}))),"tipovivienda"==e.name&&(console.log("FILTRO TIPO"),console.log(e),i=i.filter((function(t){return t.key_tipo==e.payload}))),"preciodesde"==e.name&&(console.log("FILTRO PRECIO DESDE"),console.log(e),i=i.filter((function(t){return t.precioreal>e.payload}))),"preciohasta"==e.name&&(console.log("FILTRO HASTA"),console.log(e),i=i.filter((function(t){return t.precioreal<e.payload}))),"habitaciones"==e.name&&(console.log("FILTRO HABI"),console.log(e),i=i.filter((function(t){return t.habitaciones==e.payload}))),"superminima"==e.name&&(console.log("FILTRO SUP MIN"),console.log(e),i=i.filter((function(t){return t.m_cons>e.payload}))),"supermaxima"==e.name&&(console.log("FILTRO SUP MAX"),console.log(e),i=i.filter((function(t){return t.m_cons<e.payload}))))})),console.log(i),a("FILTROS",i)},eliminarFiltros:function(){this.state.filtros.forEach((function(e){e.payload=null})),this.state.viviendas=this.state.viviendastotal}},modules:{}}),X=a("8c4f");i["a"].use(X["a"]),i["a"].config.productionTip=!1;var Y=[{path:"/",component:D},{path:"/ficha/:idficha",component:q}],Z=new X["a"]({routes:Y});new i["a"]({store:Q,router:Z,render:function(e){return e(u)}}).$mount("#app-buscador-vue")},ec9f:function(e,t,a){},f4d7:function(e,t,a){"use strict";a("ec9f")}});
//# sourceMappingURL=app.01d54430.js.map